<!DOCTYPE html>
<head>
    <meta charset="UTF-8"/>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD5u7uuBJOaYUXvQtyEMYuBgSplv0KO418&callback=initMap&libraries=drawing,places"
      async
    ></script>
</head>
<body>
    <input type="text" id="autocomplete" size="55"></input>
    <div id="map"></div>
    <script>
        let map;
        var nyc;
        var mcdon_circles = [];
    function initMap() {
      nyc = new google.maps.LatLng(40.713814570931376, -74.00141122412474);
      //set our current position.
     
      var options = {
        center: nyc,
        zoom: 14,
      }
      options.backgroundColor = "yellow"
      options.disableDefaultUI = true;
      options.gestureHandling = 'greedy'
      map = new google.maps.Map(document.getElementById("map"), options);

      //My part.
      let input = document.getElementById("autocomplete");
      //autocomplete.
      var autocomplete = new google.maps.places.Autocomplete(input,
      {
        bounds: new google.maps.LatLngBounds(nyc) //change searching range to new york city.
      }
      );
      var service = new google.maps.places.PlacesService(document.createElement('div'));

      //Searching part.
      google.maps.event.addListener(autocomplete,'place_changed',function()
        {
            var near_place=autocomplete.getPlace();
            //selected a specific item
            if(near_place.hasOwnProperty('place_id'))
            {
                //result([near_place]); //pass to jackson.
                console.log(near_place);
            }
            else{
              //we do group search(a list of results).
                let request = {
                  query:near_place.name,
                  fields: ["name", "geometry"],
                  location: nyc, // The center of the search scope.
                  radius: 6000 //The radius.
                }
                service.textSearch(request, function(results, status) {//it's the name we type
                if (status === google.maps.places.PlacesServiceStatus.OK) {
                    //result(results); //pass it to Jackson
                    console.log(results);
                }});
            }
        });
    }
    function result(mcdons)
    {
      //Jackson part
    }
    </script>
</body>
<style>
    /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
#map {
  height: 500px;
  width: 500px;
}
/* Optional: Makes the sample page fill the window. */
html,
body {
  height: 100%;
  margin: 0;
  padding: 0;
}
</style>